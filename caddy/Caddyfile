# caddy/Caddyfile

visorfinanceiro.pt, www.visorfinanceiro.pt {
    @www host www.visorfinanceiro.pt
    redir @www https://visorfinanceiro.pt{uri} permanent

    handle /api/* {
        reverse_proxy backend:8080
    }

    handle {
        root * /usr/share/caddy
        try_files {path} /index.html
        file_server
    }
}